# [Gold IV] ì´ì¤‘ ìš°ì„ ìˆœìœ„ í - 7662 

[ë¬¸ì œ ë§í¬](https://www.acmicpc.net/problem/7662)

<img width="1280" height="644" alt="Image" src="https://github.com/user-attachments/assets/b6c5dcc9-c7bc-424b-aa5f-3634d00f578f" />

### ğŸ—ï¸ì•Œê³ ë¦¬ì¦˜ ë¶„ë¥˜
- ìë£Œêµ¬ì¡°
- ìš°ì„ ìˆœìœ„ í™

<br>

---

## ğŸ’»ë¬¸ì œ ì •ì˜
íì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ì—°ì‚°ê³¼ ë°ì´í„°ë¥¼ ì‚­ì œí•˜ëŠ” ì—°ì‚° ë‘ ê°€ì§€ê°€ ì¡´ì¬í•œë‹¤. ì‚­ì œ ì—°ì‚°ì—ì„œ, íì˜ ë°ì´í„° ì¤‘ ìµœëŒ“ê°’ì„ ì‚­ì œí•˜ëŠ” ì—°ì‚°ê³¼ ìµœì†Ÿê°’ì„ ì‚­ì œí•˜ëŠ” ì—°ì‚° ë‘ ê°€ì§€ê°€ ì£¼ì–´ì§ˆ ë•Œ, ëª¨ë“  ì—°ì‚°ì„ ë§ˆì¹œ í›„ íì— ë‚¨ì•„ìˆëŠ” ë°ì´í„°ì˜ ìµœëŒ“ê°’ê³¼ ìµœì†Ÿê°’ì„ ì¶œë ¥í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ëŠ” ê²ƒì´ ì´ë²ˆ ë¬¸ì œì´ë‹¤.

<br>

## ğŸ’¡ì ‘ê·¼ ë° ì„¤ê³„

ìš°ì„  íŒŒì´ì¬ì—ì„œì˜ ìš°ì„ ìˆœìœ„ íëŠ” ìµœì†Œ í™(Min heap)ìœ¼ë¡œ êµ¬í˜„ëœë‹¤. ìµœì†Ÿê°’ì„ ì œê±°í•˜ê¸° ìœ„í•´ì„  í™ì˜ ì²« ë²ˆì§¸ ì›ì†Œë¥¼ ì œê±°í•˜ë©´ ëœë‹¤. í•˜ì§€ë§Œ ìµœëŒ“ê°’ì„ ì œê±°í•˜ëŠ” ì—°ì‚°ì„ ìˆ˜í–‰í•˜ê¸°ì—ëŠ” ìµœì†Œ í™ë§Œìœ¼ë¡œëŠ” êµ¬í˜„ì´ í˜ë“¤ë‹¤. ë”°ë¼ì„œ ìµœëŒ€ í™(Max heap)ë„ í•¨ê»˜ êµ¬í˜„í•œë‹¤.

íŒŒì´ì¬ì—ì„œ ìµœëŒ€ í™ì„ êµ¬í•˜ê¸° ìœ„í•´ì„ , ì¼ë°˜ì ì¸ íì— ì›ì†Œë¥¼ ì¶”ê°€í•  ë•Œ -ë¥¼ ë¶™ì—¬ ì¶”ê°€í•œë‹¤. ê·¸ëŸ¬ë©´ ì ˆëŒ“ê°’ì´ ê°€ì¥ í° ìˆ˜ê°€ ê°€ì¥ ì‘ì€ ìˆ˜ê°€ ë˜ë¯€ë¡œ í™ì˜ ìµœìƒë‹¨ì— ìœ„ì¹˜í•˜ê²Œ ëœë‹¤.

<br>

### âœï¸ì•Œê³ ë¦¬ì¦˜ í’€ì´

```python
T = int(input())

for _ in range(T):
    max_heap = [] # ìµœëŒ€ í™
    min_heap = [] # ìµœì†Œ í™
    nums = {} # í™ì˜ ê°’ì´ ì‚­ì œë  ë•Œ, ì •ë³´ë¥¼ ê³µìœ 
    
    k = int(input())
    for _ in range(k):
        cmd, cmd2 = input().split()
        num = int(cmd2)

        # Insert
        if (cmd == "I"):
            if num in nums:
                nums[num] += 1
            else:
                nums[num] = 1
                heapq.heappush(min_heap, num) # ìµœì†Œ í™ì—ëŠ” ìˆ«ì ê·¸ëŒ€ë¡œ
                heapq.heappush(max_heap, -num) # ìµœëŒ€ í™ì—ëŠ” ìˆ«ìì— -ë¥¼ ë¶™í˜€ì„œ
```

ìš°ì„  ì‚½ì… ì—°ì‚°ì´ë‹¤. ìµœëŒ€ í™ê³¼ ìµœì†Œ í™ì„ êµ¬í˜„í•  ë¦¬ìŠ¤íŠ¸ë¥¼ ìƒì„±í•œ ë‹¤ìŒ, ì…ë ¥ë°›ì€ ê° ìˆ«ìë¥¼ ê°ê°ì˜ í™ì— ë„£ëŠ”ë‹¤.

```python
# Delete
elif (cmd == "D"):
    if not isEmpty(nums.items()):
        if (num == 1):
            while (-max_heap[0] not in nums) or (nums[-max_heap[0]] < 1):
                temp = -heapq.heappop(max_heap)

                if (temp in nums):
                    del(nums[temp])
            nums[-max_heap[0]] -= 1

        else:
            while min_heap[0] not in nums or nums[min_heap[0]] < 1:
                temp = heapq.heappop(min_heap)
                if temp in nums:
                    del(nums[temp])
            nums[min_heap[0]] -= 1
```

ì‚­ì œ ì—°ì‚°ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

íë¥¼ ì´ì¤‘ìœ¼ë¡œ ì‚¬ìš©í•˜ê³  ìˆê¸°ì—, ì‚­ì œ ì—°ì‚°ì´ ìš”ì²­ë˜ì—ˆì„ ë•Œ í•œ ìª½ì—ì„œ ì‚­ì œë˜ë©´ ë‹¤ë¥¸ í•œ ìª½ì—ì„œë„ ì‚­ì œê°€ ë˜ì–´ì•¼ í•œë‹¤. ì´ë¥¼ nums ë”•ì…”ë„ˆë¦¬ë¥¼ í™œìš©í•˜ì—¬ í•´ë‹¹ ìˆ«ìì˜ ë“±ì¥ íšŸìˆ˜ë¥¼ ê°€ì§€ê³  íŒë‹¨í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„í•˜ì˜€ë‹¤.

```python
# ì‚­ì œí•  ë°ì´í„°ê°€ ìˆëŠ”ì§€ ì²´í¬í•˜ëŠ” í•¨ìˆ˜
def isEmpty(nums):
	# numsì— 1ì¸ ë°ì´í„°ê°€ í•˜ë‚˜ë¼ë„ ìˆìœ¼ë©´ ë¹„ì–´ìˆì§€ ì•Šì€ ê²ƒ
    for item in nums:
        if item[1] > 0:
            return False
    return True
```

isEmpty í•¨ìˆ˜ë¥¼ ì´ìš©í•´ ë”•ì…”ë„ˆë¦¬ê°€ ë¹„ì–´ìˆëŠ”ì§€ ì²´í¬í•œë‹¤.

<br>

### ğŸ—’ï¸ì œì¶œ ì½”ë“œ

```python
# 7662 ì´ì¤‘ ìš°ì„ ìˆœìœ„ í

import heapq

# ì‚­ì œí•  ë°ì´í„°ê°€ ìˆëŠ”ì§€ ì²´í¬í•˜ëŠ” í•¨ìˆ˜
def isEmpty(nums):
	# numsì— 1ì¸ ë°ì´í„°ê°€ í•˜ë‚˜ë¼ë„ ìˆìœ¼ë©´ ë¹„ì–´ìˆì§€ ì•Šì€ ê²ƒ
    for item in nums:
        if item[1] > 0:
            return False
    return True

T = int(input())

for _ in range(T):
    max_heap = [] # ìµœëŒ€ í™
    min_heap = [] # ìµœì†Œ í™
    nums = {} # í™ì˜ ê°’ì´ ì‚­ì œë  ë•Œ, ì •ë³´ë¥¼ ê³µìœ 
    
    k = int(input())
    for _ in range(k):
        cmd, cmd2 = input().split()
        num = int(cmd2)

        # Insert
        if (cmd == "I"):
            if num in nums:
                nums[num] += 1
            else:
                nums[num] = 1
                heapq.heappush(min_heap, num) # ìµœì†Œ í™ì—ëŠ” ìˆ«ì ê·¸ëŒ€ë¡œ
                heapq.heappush(max_heap, -num) # ìµœëŒ€ í™ì—ëŠ” ìˆ«ìì— -ë¥¼ ë¶™í˜€ì„œ

        # Delete
        elif (cmd == "D"):
            if not isEmpty(nums.items()):
                if (num == 1):
                    while (-max_heap[0] not in nums) or (nums[-max_heap[0]] < 1):
                        temp = -heapq.heappop(max_heap)
                        
                        if (temp in nums):
                            del(nums[temp])
                    nums[-max_heap[0]] -= 1
                
                else:
                    while (min_heap[0] not in nums) or (nums[min_heap[0]] < 1):
                        temp = heapq.heappop(min_heap)
                        if temp in nums:
                            del(nums[temp])
                    nums[min_heap[0]] -= 1

    # ê²°ê³¼ ì¶œë ¥           
    if isEmpty(nums.items()):
        print('EMPTY')
    else:
        while min_heap[0] not in nums or nums[min_heap[0]] < 1:
            heapq.heappop(min_heap)
        while -max_heap[0] not in nums or nums[-max_heap[0]] < 1:
            heapq.heappop(max_heap)
        print(-max_heap[0], min_heap[0])
```

---

### [[Python] 7662 - ì´ì¤‘ ìš°ì„ ìˆœìœ„ í](https://do-heewan.tistory.com/165)