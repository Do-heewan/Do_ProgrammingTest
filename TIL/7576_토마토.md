# [Gold V] í† ë§ˆí†  - 7569 
[ë¬¸ì œ ë§í¬](https://www.acmicpc.net/problem/7569)

![ë¬¸ì œ](https://github.com/user-attachments/assets/eb84a97a-121b-4d36-9f25-7270a001d7e6)

---

<br>

### ğŸ—ï¸ì•Œê³ ë¦¬ì¦˜ ë¶„ë¥˜
- ê·¸ë˜í”„ íƒìƒ‰
- ë„ˆë¹„ ìš°ì„  íƒìƒ‰ (BFS)

---

<br>

## ğŸ’»ë¬¸ì œ ì •ì˜

NxM í¬ê¸°ì˜ ê²©ìëª¨ì–‘ì˜ ìƒìì— ìµì€ í† ë§ˆí† ì™€ ìµì§€ ì•Šì€ í† ë§ˆí† ê°€ ë“¤ì–´ìˆë‹¤. í•´ë‹¹ ìƒìëŠ” ìœ„ë¡œ ìŒ“ì—¬ìˆì„ ìˆ˜ë„ ìˆë‹¤. ìµì€ í† ë§ˆí† ì˜ ìƒ, í•˜, ì¢Œ, ìš°, ì•, ë’¤ 6ë°©í–¥ì˜ í† ë§ˆí† ëŠ” í•˜ë£¨ê°€ ì§€ë‚˜ë©´ ìµê²Œëœë‹¤. ëª¨ë“  í† ë§ˆí† ê°€ ìµì„ ë•Œ ê¹Œì§€ ë©°ì¹ ì´ ê±¸ë¦¬ëŠ”ì§€ êµ¬í•˜ëŠ” ë¬¸ì œì´ë‹¤.

<br>

## ğŸ’¡ì ‘ê·¼ ë° ì„¤ê³„

ìµì€ í† ë§ˆí† ëŠ” 1, ìµì§€ ì•Šì€ í† ë§ˆí† ëŠ” 0, ë¹ˆ ê³µê°„ì€ -1ë¡œ ì£¼ì–´ì§„ë‹¤. ìµì€ í† ë§ˆí† ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìƒ, í•˜, ì¢Œ, ìš°, ì•, ë’¤ 6ë°©í–¥ì— ì¡´ì¬í•˜ëŠ” í† ë§ˆí† ëŠ” í•˜ë£¨ê°€ ì§€ë‚˜ë©´ ìµê²Œëœë‹¤. ì´ í† ë§ˆí† ë“¤ì˜ ìƒ, í•˜, ì¢Œ, ìš°, ì•, ë’¤ 6ë°©í–¥ì— ì¡´ì¬í•˜ëŠ” í† ë§ˆí† ëŠ” ì´í‹€ì´ ì§€ë‚˜ë©´ ìµê²Œëœë‹¤. ì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ BFSë¥¼ ì´ìš©í•˜ì—¬ ìƒì ë‚´ ëª¨ë“  í† ë§ˆí† ë¥¼ íƒìƒ‰í•˜ë©° ìµëŠ”ë° ê±¸ë¦¬ëŠ” ì‹œê°„ì„ ê³„ì‚°í•œë‹¤.

<br>

### âœï¸ì•Œê³ ë¦¬ì¦˜ í’€ì´

```python
visited = [[[False for _ in range(N)] for _ in range(M)] for _ in range(H)]
Q = deque()

# í† ë§ˆí†  ìœ„ì¹˜ ì°¾ê¸°
for h in range(H):
    for y in range(M):
        for x in range(N):
            if (graph[h][y][x] == 1):
                Q.append([h, y, x])
                visited[h][y][x] = 1

while Q:
    ch, cy, cx = Q.popleft()

    for i in range(6):
        nh = ch + dh[i]
        ny = cy + dy[i]
        nx = cx + dx[i]

        if (0 <= nh < H) and (0 <= ny < M) and (0 <= nx < N) and (graph[nh][ny][nx] == 0) and not visited[nh][ny][nx]:
            Q.append([nh, ny, nx])
            visited[nh][ny][nx] = visited[ch][cy][cx] + 1
```

ê·¸ë˜í”„ ì „ì²´ë¥¼ ëŒë©° ìµì€ í† ë§ˆí† ì˜ ìœ„ì¹˜ë¥¼ dequeì— ì €ì¥í•œë‹¤. dequeì— ì €ì¥ëœ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ bfsë¥¼ ì§„í–‰í•œë‹¤.

visited ë¦¬ìŠ¤íŠ¸ì— ì–¸ì œ ìµì—ˆëŠ”ì§€ë¥¼ í‘œì‹œí•œë‹¤.

```python
for h in range(H):
    for y in range(M):
        for x in range(N):
            if not visited[h][y][x] and graph[h][y][x] == 0:
                print(-1)
                exit(0)
```

íƒìƒ‰ì„ ë§ˆì¹œ í›„, ê·¸ë˜í”„ ì „ì²´ë¥¼ ëŒë©° ìµì§€ ì•Šì€ í† ë§ˆí† ê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•œë‹¤. ë§Œì•½ ì¡´ì¬í•œë‹¤ë©´ ì´ëŠ” ëª¨ë“  í† ë§ˆí† ê°€ ìµì„ ìˆ˜ ì—†ëŠ” ìƒìì´ë¯€ë¡œ -1ì„ ì¶œë ¥í•˜ê³  ì‹¤í–‰ì„ ëë‚¸ë‹¤.

```python
max_value = 0
for h in range(H):
    for y in range(M):
        for x in range(N):
            max_value = max(max_value, visited[h][y][x])

print(max_value - 1 if max_value != 1 else 0)
```

visitedë¥¼ ëŒë©° ê°€ì¥ í° ê°’ ì¦‰, ìµëŠ”ë° ê°€ì¥ ì˜¤ë˜ ê±¸ë¦° í† ë§ˆí† ì˜ ì¼ìˆ˜ë¥¼ êµ¬í•œë‹¤. ë§Œì•½ ìµëŠ”ë° ê°€ì¥ ì˜¤ë˜ ê±¸ë¦° í† ë§ˆí† ì˜ ì¼ìˆ˜ê°€ 1ì¼ ê²½ìš° ì´ëŠ” ì²˜ìŒë¶€í„° ëª¨ë“  í† ë§ˆí† ê°€ ìµì€ ìƒíƒœì´ê¸°ì— 0ì„ ì¶œë ¥í•œë‹¤.

<br>

### ğŸ—’ï¸ì œì¶œ ì½”ë“œ

```python
# 7569 í† ë§ˆí† 

import sys
from collections import deque
input = sys.stdin.readline

N, M, H = map(int, input().split())

# ìƒ, í•˜, ì¢Œ, ìš°, ì•, ë’¤
dx = [0, 0, -1, 1, 0, 0]
dy = [1, -1, 0, 0, 0, 0]
dh = [0, 0, 0, 0, 1, -1]

graph = []
for _ in range(H):
    graph_2 = []
    for _ in range(M):
        graph_2.append(list(map(int, input().split())))
    graph.append(graph_2)

visited = [[[False for _ in range(N)] for _ in range(M)] for _ in range(H)]
Q = deque()

# í† ë§ˆí†  ìœ„ì¹˜ ì°¾ê¸°
for h in range(H):
    for y in range(M):
        for x in range(N):
            if (graph[h][y][x] == 1):
                Q.append([h, y, x])
                visited[h][y][x] = 1

while Q:
    ch, cy, cx = Q.popleft()

    for i in range(6):
        nh = ch + dh[i]
        ny = cy + dy[i]
        nx = cx + dx[i]

        if (0 <= nh < H) and (0 <= ny < M) and (0 <= nx < N) and (graph[nh][ny][nx] == 0) and not visited[nh][ny][nx]:
            Q.append([nh, ny, nx])
            visited[nh][ny][nx] = visited[ch][cy][cx] + 1

for h in range(H):
    for y in range(M):
        for x in range(N):
            if not visited[h][y][x] and graph[h][y][x] == 0:
                print(-1)
                exit(0)

max_value = 0
for h in range(H):
    for y in range(M):
        for x in range(N):
            max_value = max(max_value, visited[h][y][x])

print(max_value - 1 if max_value != 1 else 0)
```

---

### [[Python] 7576 - í† ë§ˆí† ](https://do-heewan.tistory.com/161)